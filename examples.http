### Agent Pattern Test - API Examples
### 使用方法: 在IntelliJ IDEA或VSCode（需要REST Client插件）中打开此文件，点击"Send Request"按钮

### 1. 健康检查
GET http://localhost:8080/api/chat/health

###

### 2. 获取欢迎消息
GET http://localhost:8080/api/chat/welcome

###

### 3. 查询订单信息
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "帮我查询订单ORD001的物流信息"
}

###

### 4. 查询订单状态（配送中）
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "订单ORD002的配送进度如何？",
  "session_id": "test-session-001"
}

###

### 5. 搜索iPhone产品
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "我想买iPhone，有什么推荐吗？",
  "session_id": "test-session-002"
}

###

### 6. 搜索耳机产品
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "给我推荐几款耳机",
  "session_id": "test-session-003"
}

###

### 7. 咨询退货政策
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "请问你们的退货政策是什么？"
}

###

### 8. 咨询配送信息
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "你们支持哪些配送方式？多久能到？"
}

###

### 9. 咨询支付方式
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "支持哪些支付方式？"
}

###

### 10. 复杂查询（需要多次工具调用）
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "我想了解一下MacBook的价格，如果我买了之后想退货怎么办？",
  "session_id": "test-session-004"
}

###

### 11. 获取统计信息
GET http://localhost:8080/api/chat/stats

###

### 12. 使用知识库 - iPhone使用问题
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "iPhone无法开机，怎么办？",
  "session_id": "test-session-005"
}

###

### 13. 使用知识库 - MacBook性能问题
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "我的MacBook运行很慢，有什么优化方法吗？",
  "session_id": "test-session-006"
}

###

### 14. 使用知识库 - AirPods连接问题
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "AirPods连接不上iPhone",
  "session_id": "test-session-007"
}

###

### 15. 使用知识库 - 产品规格查询
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "iPhone 15 Pro的主要规格是什么？",
  "session_id": "test-session-008"
}

###

### 16. 使用知识库 - 保修政策
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "AppleCare+有什么服务内容？",
  "session_id": "test-session-009"
}

###

### 17. 复合查询（多个知识库）
POST http://localhost:8080/api/chat
Content-Type: application/json

{
  "message": "我买了MacBook Pro，如果有质量问题可以保修吗？一般保修多久？",
  "session_id": "test-session-010"
}

###

### 18. 获取统计信息
GET http://localhost:8080/api/chat/stats

###

### 19. 清除会话（旧接口）
DELETE http://localhost:8080/api/chat/session/test-session-001

###

### ============ 会话管理API ============

### 20. 获取所有会话
GET http://localhost:8080/api/sessions

###

### 21. 获取指定会话详情
GET http://localhost:8080/api/sessions/session-abc123

###

### 22. 获取用户的所有会话
GET http://localhost:8080/api/sessions/user/user123

###

### 23. 根据状态查询会话（ACTIVE）
GET http://localhost:8080/api/sessions/status/ACTIVE

###

### 24. 创建新会话（默认TTL）
POST http://localhost:8080/api/sessions?userId=user123

###

### 25. 创建新会话（自定义TTL：120分钟）
POST http://localhost:8080/api/sessions?userId=user456&ttlMinutes=120

###

### 26. 更新会话状态为CLOSED
PUT http://localhost:8080/api/sessions/session-abc123/status?status=CLOSED

###

### 27. 删除指定会话
DELETE http://localhost:8080/api/sessions/session-abc123

###

### 28. 清空所有会话
DELETE http://localhost:8080/api/sessions

###

### 29. 手动触发过期会话清理
POST http://localhost:8080/api/sessions/cleanup

###

### 30. 检查会话是否存在
GET http://localhost:8080/api/sessions/session-abc123/exists

###

### 31. 获取活跃会话数量
GET http://localhost:8080/api/sessions/count/active

###

### 32. 获取总会话数量
GET http://localhost:8080/api/sessions/count/total

###

### ============ 会话分析API ============

### 33. 获取会话整体统计
GET http://localhost:8080/api/sessions/stats

###

### 34. 获取用户行为分析
GET http://localhost:8080/api/sessions/analytics/user/user123

###

### 35. 获取热门话题（Top 5）
GET http://localhost:8080/api/sessions/analytics/hot-topics?topN=5

###

### 36. 获取热门话题（Top 10）
GET http://localhost:8080/api/sessions/analytics/hot-topics?topN=10

###

### 37. 获取时间范围统计（2024年1月）
GET http://localhost:8080/api/sessions/analytics/time-range?startTime=2024-01-01T00:00:00&endTime=2024-01-31T23:59:59

###

### 38. 获取时间范围统计（今天）
GET http://localhost:8080/api/sessions/analytics/time-range?startTime=2024-01-20T00:00:00&endTime=2024-01-20T23:59:59

###
